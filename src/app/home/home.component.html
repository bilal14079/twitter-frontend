<div *ngIf="tweets">
  <div class="container">
    <div class="row">
      <ng-container *ngFor="let tweet of tweets">
        <div class="row">
          <div class="col-lg-3 col-sm-12"></div>
          <div (click)="open(content)" class="col-lg-6 col-sm-12 tweet card">
            <img
              src="/assets/images/img_avatar.png"
              class="avatar"
              style="width:44px;height:auto;"
            />
            <div class="title">
              <a [routerLink]="['/tweets/show/', tweet.id]"
                ><b> {{ tweet.tweet_title }}</b></a
              >
              .{{ tweet.user.name }}@<a
                [routerLink]="['/users/', tweet.user.id]"
                ><b> {{ tweet.user.user_name }}</b></a
              >
            </div>
            <div class="tweet-content">
              <p>{{ tweet.tweet_content }}</p>
              <div *ngIf="tweet.cover_picture_url">
                <img [src]="tweet.cover_picture_url" class="tweet-image" />
              </div>
            </div>
            <div class="tweet-likes">
              <i class="fa fa-comment" style="font-size:18px"></i>
              {{ tweet.comments.length }}
              <!-- implementation of tweet modal starts from here in tweets loop -->
              <ng-template #content let-modal>
                <div class="modal-body align-middle">
                  <div class="container">
                    <div class="row">
                      <div class="col-lg-3 col-sm-12"></div>
                      <div class="col-lg-6 col-sm-12 tweet card">
                        <img
                          src="/assets/images/img_avatar.png"
                          class="avatar"
                          style="width:44px;height:auto;"
                        />
                        <div class="title">
                          <a [routerLink]="['/tweets/show/', tweet.id]"
                            ><b> {{ tweet.tweet_title }}</b></a
                          >
                          .{{ tweet.user.name }}@<a [routerLink]="['/users/', tweet.user.id]"
                            ><b> {{ tweet.user.user_name }}</b></a
                          >
                        </div>
                        <div class="tweet-content">
                          <p>{{ tweet.tweet_content }}</p>
                          <div *ngIf="tweet.cover_picture_url">
                            <img [src]="tweet.cover_picture_url" class="tweet-image" />
                          </div>
                        </div>
                        <div class="tweet-likes">
                          <i class="fa fa-comment" style="font-size:18px"></i>
                          {{ tweet.comments.length }}
                        </div>
                        <div *ngIf="tweet.comments">
                          <h4>Comments</h4>
                          <ul *ngFor="let comment of tweet.comments">
                            <li>{{ comment.comment_body }}</li>
                          </ul>
                          <textarea
                            #comment
                            name="comment_body"
                            placeholder="Comment here..."
                            class="form-control"
                            rows="4"
                          ></textarea
                          ><br />
                          <div *ngIf="comment_msg">
                            <p style="color:red">{{ comment_msg }}</p>
                          </div>
                          <button
                            (click)="addComment(tweet.id, comment.value)"
                            class="btn btn-success"
                            style="width: 100px"
                          >
                            Comment
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- <div class="modal-footer">
                  <button type="button" class="btn btn-outline-dark" (click)="modal.close('Save click')">Save</button>
                </div> -->
              </ng-template>
              
              <!-- <button class="btn btn-lg btn-outline-primary" (click)="open(content)">Launch demo modal</button> -->
              
              <!-- implementation of tweet modal ends here in tweets loop -->
            </div>
          </div>
        </div>
      </ng-container>
    </div>
  </div>

  <!--
    <div class="tweets">
        <div *ngFor="let tweet of tweets">
            <div class="container">
                <div class="row tweet">
                  <div class="col-lg-12 col-sm-10">
                      <img src="/assets/images/img_avatar.png"  class="avatar" style="width:50px;height:50px">
                      <div class="title">
                          <a [routerLink]="['/tweets/show/',tweet.id]" ><b> {{tweet.tweet_title}}</b></a> .{{tweet.user.name}}@<a [routerLink]="['/users/',tweet.user.id]" ><b> {{tweet.user.user_name}}</b></a>
                      </div>
                      <div class="tweet-content">
                         <p>{{ tweet.tweet_content }}</p>
                          <div *ngIf="tweet.cover_picture_url">
                            <img [src]="tweet.cover_picture_url" style="width:620px;height:500px">
                          </div>
                          <div class="tweet-likes">
                              <i class="fa fa-comment" style="font-size:18px"></i>   {{tweet.comments.length}}
                          </div>
                      </div>
                  </div>
                </div>
            </div>
        </div>
    </div>
  -->
</div>
